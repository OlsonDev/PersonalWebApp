@using System.Diagnostics
@model IEnumerable<PersonalWebApp.Models.Conceptual.BlogEntry>

<link rel="stylesheet" href="/highlight/styles/monokai-sublime.css">
<script src="/highlight/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

<h1>Blog</h1>
@foreach (var blogEntry in Model) {
	<article class="markdown-body">
		@{
			Debug.Assert(blogEntry.DatePublished != null, "blogEntry.DatePublished != null");
			var datePublished = ((DateTimeOffset)blogEntry.DatePublished);
			var iso8601 = datePublished.ToString("o");
			var humanReadableShort = datePublished.ToString("MMMM d, yyyy");
			var humanReadableFull = datePublished.ToString("dddd, MMMM d, yyyy hh:mm:ss tt (zzz)");
		}
		<header>
			<h1>@blogEntry.Title</h1>
			<p>Written by Josh Olson <time datetime="@iso8601" title="@humanReadableFull">@humanReadableShort</time></p>
		</header>
		@Html.Raw(blogEntry.HtmlContent)
	</article>
}